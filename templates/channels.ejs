<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <title>Contact List</title>
    <style>
    
      h1 {
        margin-top: 0;
        color: #333;
      }

      ul {
        list-style-type: none;
        padding: 0;
      }

      li {
        padding: 10px;
        border-bottom: 1px solid #ddd;
      }

      li:last-child {
        border-bottom: none;
      }

      strong {
        font-weight: bold;
        color: #555;
      }
    </style>

  </head>
  <body>
    <div class="col-lg-8 mx-auto">
      <h1>Contact List</h1>
      <ul>
        <% channels.forEach(function(contact) { %>
        <li>
          <strong>ID:</strong> <%= contact.id %><br />
          <strong>Name:</strong> 
          <% if(contact.type == "User"){ %> ðŸ‘¤ <% } %>
          <% if(contact.type == "Group"){ %> ðŸ‘¥ <% } %>
          <% if(contact.type == "Channel"){ %> ðŸ“¢ <% } %>
          <% if(contact.deletedAccount){%>
            <small class="text-danger">Deleted Account</small>
            <%}else{%>
                <%= contact.name %>
          <% } %>
          <br />
          <strong>Username:</strong> <%= !contact.deletedAccount?
          contact.username : '--' %> <%= contact.isBot ? 'ðŸ¤–' : '' %><br />
          <strong>Phone:</strong> <%= contact.phone || "--" %><br />
          <strong>Last Message:</strong> <small class="text-info"><%= contact.lastMessage || ' -- ' %></small> <small class="text-muted">(<%= new Date(Number(contact.lastMessageTimestamp)*1000).toLocaleString() %>)</small><br>
          <strong>Account Type:</strong> <%= contact.type %><br />
        </li>
        <% }); %>
      </ul>
    </div>
  </body>

</html>
